{"version":3,"sources":["api/index.js","Components/CountryPicker.js","Components/Card.js","App.js","index.js"],"names":["getCountryNames","a","axios","get","data","map","country","currencies","code","name","getExchangeRate","fromCurr","toCurr","process","rates","euro","exchanged","isNaN","Error","getCountries","convertCurrency","amount","exchangeRate","countries","convertAmt","toFixed","CountryPicker","handleFromCountryChange","handleToCountryChange","useState","countryFrom","setFromCountry","countryTo","setToCountry","useEffect","fetchCountry","length","className","onChange","e","target","value","Object","entries","i","v","Card","rate","App","state","currFrom","currTo","fetchRate","setState","handleInputChange","this","type","placeholder","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.92b6bcc7.chunk.js","sourcesContent":["/*\n * APIs -\n * Exchange rate - Fixer.io\n * Countries - https://restcountries.com/v2/currency/{currency}\n*/\nimport axios from 'axios';\n\nconst URL = 'http://data.fixer.io/api/latest';\nconst API_KEY = process.env.REACT_APP_CURRENCY_API_KEY\n\nexport const getCountryNames = async () => {\n\tconst {data} = await axios.get('https://restcountries.com/v2/all')\n\treturn data.map(country => {\n\t\tif(country?.currencies) return [country.currencies[0].code, country.name]\n\t\treturn ''\n\t})\n}\n\nexport const getExchangeRate = async (fromCurr, toCurr) => {\n\tconst {data: {rates}} = await axios.get(`${URL}?access_key=${API_KEY}`)\n\tconst euro = 1 / rates[fromCurr]\n\tconst exchanged = euro * rates[toCurr]\n\n\tif(isNaN(exchanged)) {\n\t\tthrow new Error(`Unable to get currency ${fromCurr} & ${toCurr}`)\n\t}\n\treturn exchanged\n}\n\nexport const getCountries = async (toCurr) => {\n\ttry {\n\t\tconst {data} = await axios.get(`https://restcountries.com/v2/currency/${toCurr}`)\n\t\treturn data.map(country => country.name)\n\t}\n\tcatch(error) {\n\t\tthrow new Error(`Unable to get countries that use ${toCurr}`)\n\t}\n}\n\nexport const convertCurrency = async (fromCurr, toCurr, amount) => {\n\tconst exchangeRate = await getExchangeRate(fromCurr, toCurr)\n\tconst countries = await getCountries(toCurr)\n\n\tconst convertAmt = (amount * exchangeRate).toFixed(2)\n\treturn `${amount} ${fromCurr} is worth ${convertAmt} ${toCurr}. It can be used in: ${countries}`\n}\n","import React, { useState, useEffect } from 'react';\nimport { getCountryNames } from '../api'\n\nconst CountryPicker = ({handleFromCountryChange, handleToCountryChange}) => {\n\n\tconst [countryFrom, setFromCountry] = useState([])\n\tconst [countryTo, setToCountry] = useState([])\n\n\tuseEffect(() => {\n\t\tconst fetchCountry = async () => {\n\t\t\tconst data = await getCountryNames()\n\t\t\tsetFromCountry(data)\n\t\t\tsetToCountry(data)\n\t\t}\n\t\tfetchCountry()\n\t}, [setFromCountry, setToCountry])\n\n\tif(countryFrom.length === 0) return \"Loading!\"\n\treturn(\n\t\t<div className=\"countryPickers\">\n\t\t\t<select onChange={(e) => handleFromCountryChange(e.target.value)}>\n\t\t\t\t<option value=\"\">Select Origin Country</option>\n\t\t\t\t{\n\t\t\t\t\tObject.entries(countryFrom).map(([k, v], i) => {\n\t\t\t\t\t\tif(v) return <option value={v[0]} key={i}>{v[1]}</option>\n\t\t\t\t\t\treturn ''\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</select>\n\t\t\t<select onChange={(e) => handleToCountryChange(e.target.value)}>\n\t\t\t\t<option value=\"\">Select Destination Country</option>\n\t\t\t\t{\n\t\t\t\t\tObject.entries(countryTo).map(([k, v], i) => {\n\t\t\t\t\t\tif(v) return <option value={v[0]} key={i}>{v[1]}</option>\n\t\t\t\t\t\treturn ''\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</select>\n\t\t</div>\n\t)\n}\n\nexport default CountryPicker\n","import React from 'react';\n\nconst Card = ({rate}) => {\n\tif(rate === 0) return ''\n\treturn(\n\t\t<div className=\"currencyCard\">{rate}</div>\n\t)\n}\n\nexport default Card;\n","import React, {useState, useEffect} from 'react';\n\nimport CountryPicker from './Components/CountryPicker'\nimport Card from './Components/Card'\nimport { getExchangeRate, getCountries, convertCurrency } from './api'\n\nimport './App.css'\n\nclass App extends React.Component {\n\tstate = {\n\t\tcurrFrom: '',\n\t\tcurrTo: '',\n\t\tamount: '',\n\t\trate: 0\n\t}\n\n\tfetchRate = async () => {\n\t\tconst { currFrom, currTo, amount } = this.state\n\t\tconst data = await convertCurrency(currFrom, currTo, amount)\n\t\tthis.setState({rate: data})\n\t}\n\n\thandleFromCountryChange = (countryFrom) => {\n\t\tthis.setState({currFrom: countryFrom})\n\t}\n\thandleToCountryChange = (countryTo) => {\n\t\tthis.setState({currTo: countryTo})\n\t}\n\thandleInputChange = (e) => {\n\t\tthis.setState({amount: e.target.value})\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { currFrom, currTo } = this.state;\n\t\tif( currFrom !== '' && currTo !== '' ) {\n\t\t\tthis.fetchRate()\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { currFrom, currTo, rate, amount } = this.state\n\t\treturn(\n\t\t\t<div className=\"appContainer\">\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"amountInput\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tplaceholder=\"Amount to convert\"\n\t\t\t\t\tvalue={amount}\n\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t/>\n\t\t\t\t<CountryPicker handleFromCountryChange={this.handleFromCountryChange} handleToCountryChange={this.handleToCountryChange} />\n\t\t\t\t<Card rate={rate} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}